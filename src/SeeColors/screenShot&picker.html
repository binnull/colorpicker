<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <style>
        body{
            margin: 0;
        }
        .span{
            color: red;
            text-align: center;

        }
        #test a{

            width: 100%;
            /*position: absolute;*/
            /*left: 100px;*/
            /*top:0px;*/
        }
        /*#test{*/
            /*position: relative;*/
            /*background-color: black;*/
        /*}*/
        canvas{
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="html2canvas.js"></script>
</head>
<body>
<div id="test" style="width: 100px">
    <!--<div style="width: 100%;height: 1px;background-color: rgba(111,111,111,1);"></div>-->
    <div style="background-color: rgba(100,100,100,1); width: 100px;height: 100px;">
        <!--<a href="" style="color: aqua">-->
            <!--111111-->
        <!--</a>-->
        <!--<img src="1.png" style="width: 20px ;height: 20px;" alt="">-->
    </div>
    <div style="background-color: rgba(200,200,200,1); width: 100px;height: 100px;"></div>
    <div style="background-color: rgba(50,50,50,1); width: 100px;height: 100px;"></div>
    <div style="background-color: rgba(200,80,200,1); width: 100px;height: 100px;"></div>
    <div style="background-color: rgba(0,0,240,1); width: 100px;height: 100px;"></div>
    <!--<nav>-->
        <!--<ul>-->
            <!--<em style="color: #dddddd; font-size: 20px" >-->
                <!--happy-->
            <!--</em>-->
        <!--</ul>-->
        <!--<div>-->
            <!--<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" version="1.1">-->

                <!--<ellipse cx="300" cy="150" rx="200" ry="80" style="fill:rgb(200,100,50); stroke:rgb(0,0,100);stroke-width:2"/>-->

                <!--<div xmlns="http://www.w3.org/1999/xhtml"></div></svg>-->
        <!--</div>-->
    <!--</nav>-->
    <!--<ul>-->
        <!--<li>-->
            <!--<span class="span">-->
                <!--dfinafi-->
            <!--</span>-->
        <!--</li>-->
        <!--<li>-->
            <!--<span class="span">-->
                <!--aaa-->
            <!--</span>-->
        <!--</li>-->
        <!--<li>-->
            <!--<span class="span">-->
                <!--bbb-->
            <!--</span>-->
        <!--</li>-->
        <!--<li>-->
            <!--<span class="span">-->
                <!--ccc-->
            <!--</span>-->
        <!--</li>-->
    <!--</ul>-->
</div>
<!--<canvas id="canvas" style="border:2px solid black;" width="1000" height="1000"></canvas>-->
<script src="seeColors.js"></script>
<script>
    new SeeColors("#test");
//    var copy=document.createElement("div");
//    copy.classList.add("copy");
//    copy.appendChild(document.querySelector("#test").cloneNode());      //copy#test下的元素进行测试
//    find(document.querySelector("#test"),copy.querySelector("#test"));
//    setStyle(document.querySelector("#test"),copy.querySelector("#test"));
//    function find(ele,copy){
//        for(var i=0; i<ele.childNodes.length;i++){
//            copy.appendChild(ele.childNodes[i].cloneNode());
//            find(ele.childNodes[i],copy.childNodes[i]);
//        }
//    }
//    function setStyle(ele,copy){
//        for(var i=0; i<ele.children.length;i++){
//            for(var style in getStyle(ele.children[i])){
//                copy.children[i].style[style]=getStyle(ele.children[i])[style];
//            }
//            setStyle(ele.children[i],copy.children[i]);
//        }
//    }
//    function getStyle(ele) {
//        var style = null;
//        if(window.getComputedStyle) {
//            style = window.getComputedStyle(ele, null);
//        }else{
//            style = ele.currentStyle;
//        }
//        return style;
//    }
//    console.log(copy);
//    var canvas = document.getElementById("canvas");
//    var ctx = canvas.getContext("2d");
//    var data = "<svg xmlns='http://www.w3.org/2000/svg' width='1000' height='1000'>" +
//            "<switch>" +
//            "<foreignObject width='100%' height='100%'>" +
//            "<body xmlns='http://www.w3.org/1999/xhtml'>" +
//                    copy.outerHTML+
//            "</body>" +
//            "</foreignObject>" +
//            "</switch>" +
//            "</svg>";
//    var img = new Image;
//    img.onload = function() {
//        ctx.drawImage(img, 0, 0);
//        //测试能否取到像素数据（canvas是否被污染）注：当img.src为'blob：'时，chrome报错被污染；为'data：'时safari报错被污染
//        for(var i=0;i<ctx.getImageData(0,0,20,20).data.length;i++){
//            if(ctx.getImageData(0,0,20,20).data[i]!=0){
//                console.log(i+":"+ctx.getImageData(0,0,20,20).data[i]);
//            }
//        }
//    };
//    img.crossorigin="anonymous";
//    img.crossdomain = true;
//    img.src = 'data:image/svg+xml;base64,'+btoa(data);
//    document.querySelector("body").appendChild(img);
    //作为比较的html2canvas
//    html2canvas(document.querySelector("#test"),{
//        onrendered:function(canvas){
//            canvas.classList.add("temp");
//            document.body.appendChild(canvas);
//            var ctx=document.querySelector(".temp").getContext('2d');
//            console.log(ctx.getImageData(0,0,100,100).data);
//        }
//    });
</script>
</body>
</html>